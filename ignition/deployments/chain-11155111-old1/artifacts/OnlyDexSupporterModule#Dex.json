{
  "_format": "hh-sol-artifact-1",
  "contractName": "Dex",
  "sourceName": "contracts/0xVault/libs/Dex.sol",
  "abi": [
    {
      "inputs": [],
      "name": "BACKSTOP_LIQUIDATION_PERCENT",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "MAINTENANCE_MARGIN_PERCENT",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "positionId",
              "type": "string"
            },
            {
              "internalType": "bytes32",
              "name": "oracleId",
              "type": "bytes32"
            },
            {
              "internalType": "address",
              "name": "token",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "quantity",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "leverageFactor",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "leverageType",
              "type": "string"
            },
            {
              "internalType": "bool",
              "name": "isLong",
              "type": "bool"
            },
            {
              "components": [
                {
                  "internalType": "bytes32",
                  "name": "oracleId",
                  "type": "bytes32"
                },
                {
                  "internalType": "address",
                  "name": "token",
                  "type": "address"
                },
                {
                  "internalType": "uint256",
                  "name": "quantity",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "entryPrice",
                  "type": "uint256"
                }
              ],
              "internalType": "struct Crypto.Collateral[]",
              "name": "collaterals",
              "type": "tuple[]"
            },
            {
              "internalType": "uint256",
              "name": "entryPrice",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "createdTimestamp",
              "type": "uint256"
            }
          ],
          "internalType": "struct Crypto.Position",
          "name": "position",
          "type": "tuple"
        },
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "id",
              "type": "bytes32"
            },
            {
              "internalType": "uint256",
              "name": "price",
              "type": "uint256"
            }
          ],
          "internalType": "struct IRedstoneOracle.PriceFeed[]",
          "name": "allFeeds",
          "type": "tuple[]"
        },
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "oracleId",
              "type": "bytes32"
            },
            {
              "internalType": "address",
              "name": "addr",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "balance",
              "type": "uint256"
            }
          ],
          "internalType": "struct Crypto.Balance[]",
          "name": "balances",
          "type": "tuple[]"
        }
      ],
      "name": "_checkLiquidatedPosition",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "positionId",
              "type": "string"
            },
            {
              "internalType": "bytes32",
              "name": "oracleId",
              "type": "bytes32"
            },
            {
              "internalType": "address",
              "name": "token",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "quantity",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "leverageFactor",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "leverageType",
              "type": "string"
            },
            {
              "internalType": "bool",
              "name": "isLong",
              "type": "bool"
            },
            {
              "components": [
                {
                  "internalType": "bytes32",
                  "name": "oracleId",
                  "type": "bytes32"
                },
                {
                  "internalType": "address",
                  "name": "token",
                  "type": "address"
                },
                {
                  "internalType": "uint256",
                  "name": "quantity",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "entryPrice",
                  "type": "uint256"
                }
              ],
              "internalType": "struct Crypto.Collateral[]",
              "name": "collaterals",
              "type": "tuple[]"
            },
            {
              "internalType": "uint256",
              "name": "entryPrice",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "createdTimestamp",
              "type": "uint256"
            }
          ],
          "internalType": "struct Crypto.Position",
          "name": "position",
          "type": "tuple"
        },
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "id",
              "type": "bytes32"
            },
            {
              "internalType": "uint256",
              "name": "price",
              "type": "uint256"
            }
          ],
          "internalType": "struct IRedstoneOracle.PriceFeed[]",
          "name": "allFeeds",
          "type": "tuple[]"
        }
      ],
      "name": "_getPositionLoss",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "id",
              "type": "bytes32"
            },
            {
              "internalType": "uint256",
              "name": "price",
              "type": "uint256"
            }
          ],
          "internalType": "struct IRedstoneOracle.PriceFeed[]",
          "name": "allFeeds",
          "type": "tuple[]"
        },
        {
          "internalType": "bytes32",
          "name": "pair",
          "type": "bytes32"
        }
      ],
      "name": "_getPriceFeedByPairId",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "price",
              "type": "uint256"
            }
          ],
          "internalType": "struct IRedstoneOracle.Price",
          "name": "feed",
          "type": "tuple"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    }
  ],
  "bytecode": "0x610b3661003a600b82828239805160001a60731461002d57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600436106100615760003560e01c8063440305c114610066578063557502631461008257806395f5d1571461008a578063ec902e88146100ad578063fdd17ac0146100c0575b600080fd5b61006f611a0b81565b6040519081526020015b60405180910390f35b61006f603281565b61009d61009836600461088e565b6100e2565b6040519015158152602001610079565b61006f6100bb36600461099f565b610398565b6100d36100ce366004610a02565b610427565b60405190518152602001610079565b600080806100f08686610398565b6100fa9083610a5c565b91506000805b8760e001515181101561022857600061013a888a60e00151848151811061012957610129610a6f565b602002602001015160000151610427565b90506000816000015190506000818b60e00151858151811061015e5761015e610a6f565b6020026020010151604001516101749190610a85565b90506101846305f5e10082610a9c565b9050818b60e00151858151811061019d5761019d610a6f565b6020026020010151604001516101b39190610a85565b6101bd9086610a5c565b94508a60e0015184815181106101d5576101d5610a6f565b6020026020010151604001518b60e0015185815181106101f7576101f7610a6f565b60200260200101516060015161020d9190610a85565b6102179087610a5c565b955050600190920191506101009050565b506102338183610abe565b61023d9084610a5c565b6040516463726f737360d81b6020820152909350602501604051602081830303815290604052805190602001208760a0015160405160200161027f9190610ad1565b60405160208183030381529060405280519060200120036103235760005b85518110156103215760006102be8888848151811061012957610129610a6f565b90506000816000015190506000818985815181106102de576102de610a6f565b6020026020010151604001516102f49190610a85565b90506103046305f5e10082610a9c565b90506103108187610a5c565b9550506001909201915061029d9050565b505b60006064610332603285610a85565b61033c9190610a9c565b9050600061271061034f611a0b86610a85565b6103599190610a9c565b90508085111561037157600195505050505050610391565b8185111561038757600195505050505050610391565b6000955050505050505b9392505050565b6000806103a9838560200151610427565b5160608501516103b99190610a85565b9050600084610100015185606001516103d29190610a85565b90508460c001511561040457808211156103f157600092505050610421565b6103fb8282610abe565b92505050610421565b8082101561041757600092505050610421565b6103fb8183610abe565b92915050565b60408051602081019091526000815260005b83518110156104a2578284828151811061045557610455610a6f565b6020026020010151600001510361049a57604051806020016040528085838151811061048357610483610a6f565b602002602001015160200151815250915050610421565b600101610439565b5060405162461bcd60e51b815260206004820152601460248201527311da5d995b881c185a5c881b9bdd08199bdd5b9960621b604482015260640160405180910390fd5b634e487b7160e01b600052604160045260246000fd5b604051608081016001600160401b038111828210171561051e5761051e6104e6565b60405290565b60405161014081016001600160401b038111828210171561051e5761051e6104e6565b604080519081016001600160401b038111828210171561051e5761051e6104e6565b604051606081016001600160401b038111828210171561051e5761051e6104e6565b604051601f8201601f191681016001600160401b03811182821017156105b3576105b36104e6565b604052919050565b600082601f8301126105cc57600080fd5b81356001600160401b038111156105e5576105e56104e6565b6105f8601f8201601f191660200161058b565b81815284602083860101111561060d57600080fd5b816020850160208301376000918101602001919091529392505050565b80356001600160a01b038116811461064157600080fd5b919050565b8035801515811461064157600080fd5b60006001600160401b0382111561066f5761066f6104e6565b5060051b60200190565b600082601f83011261068a57600080fd5b8135602061069f61069a83610656565b61058b565b82815260079290921b840181019181810190868411156106be57600080fd5b8286015b8481101561071857608081890312156106db5760008081fd5b6106e36104fc565b813581526106f285830161062a565b8186015260408281013590820152606080830135908201528352918301916080016106c2565b509695505050505050565b6000610140828403121561073657600080fd5b61073e610524565b905081356001600160401b038082111561075757600080fd5b610763858386016105bb565b83526020840135602084015261077b6040850161062a565b6040840152606084013560608401526080840135608084015260a08401359150808211156107a857600080fd5b6107b4858386016105bb565b60a08401526107c560c08501610646565b60c084015260e08401359150808211156107de57600080fd5b506107eb84828501610679565b60e08301525061010080830135818301525061012080830135818301525092915050565b600082601f83011261082057600080fd5b8135602061083061069a83610656565b82815260069290921b8401810191818101908684111561084f57600080fd5b8286015b84811015610718576040818903121561086c5760008081fd5b610874610547565b813581528482013585820152835291830191604001610853565b600080600060608085870312156108a457600080fd5b84356001600160401b03808211156108bb57600080fd5b6108c788838901610723565b95506020915081870135818111156108de57600080fd5b6108ea89828a0161080f565b9550506040808801358281111561090057600080fd5b88019150601f8201891361091357600080fd5b813561092161069a82610656565b81815260609091028301840190848101908b83111561093f57600080fd5b938501935b8285101561098e5786858d03121561095c5760008081fd5b610964610569565b8535815261097387870161062a565b81880152858501358582015282529386019390850190610944565b809750505050505050509250925092565b600080604083850312156109b257600080fd5b82356001600160401b03808211156109c957600080fd5b6109d586838701610723565b935060208501359150808211156109eb57600080fd5b506109f88582860161080f565b9150509250929050565b60008060408385031215610a1557600080fd5b82356001600160401b03811115610a2b57600080fd5b610a378582860161080f565b95602094909401359450505050565b634e487b7160e01b600052601160045260246000fd5b8082018082111561042157610421610a46565b634e487b7160e01b600052603260045260246000fd5b808202811582820484141761042157610421610a46565b600082610ab957634e487b7160e01b600052601260045260246000fd5b500490565b8181038181111561042157610421610a46565b6000825160005b81811015610af25760208186018101518583015201610ad8565b50600092019182525091905056fea26469706673582212206a344098da22bade1e7081500b05ade5eba75ca54115b93fb8fc00e682a40d5964736f6c63430008180033",
  "deployedBytecode": "0x73000000000000000000000000000000000000000030146080604052600436106100615760003560e01c8063440305c114610066578063557502631461008257806395f5d1571461008a578063ec902e88146100ad578063fdd17ac0146100c0575b600080fd5b61006f611a0b81565b6040519081526020015b60405180910390f35b61006f603281565b61009d61009836600461088e565b6100e2565b6040519015158152602001610079565b61006f6100bb36600461099f565b610398565b6100d36100ce366004610a02565b610427565b60405190518152602001610079565b600080806100f08686610398565b6100fa9083610a5c565b91506000805b8760e001515181101561022857600061013a888a60e00151848151811061012957610129610a6f565b602002602001015160000151610427565b90506000816000015190506000818b60e00151858151811061015e5761015e610a6f565b6020026020010151604001516101749190610a85565b90506101846305f5e10082610a9c565b9050818b60e00151858151811061019d5761019d610a6f565b6020026020010151604001516101b39190610a85565b6101bd9086610a5c565b94508a60e0015184815181106101d5576101d5610a6f565b6020026020010151604001518b60e0015185815181106101f7576101f7610a6f565b60200260200101516060015161020d9190610a85565b6102179087610a5c565b955050600190920191506101009050565b506102338183610abe565b61023d9084610a5c565b6040516463726f737360d81b6020820152909350602501604051602081830303815290604052805190602001208760a0015160405160200161027f9190610ad1565b60405160208183030381529060405280519060200120036103235760005b85518110156103215760006102be8888848151811061012957610129610a6f565b90506000816000015190506000818985815181106102de576102de610a6f565b6020026020010151604001516102f49190610a85565b90506103046305f5e10082610a9c565b90506103108187610a5c565b9550506001909201915061029d9050565b505b60006064610332603285610a85565b61033c9190610a9c565b9050600061271061034f611a0b86610a85565b6103599190610a9c565b90508085111561037157600195505050505050610391565b8185111561038757600195505050505050610391565b6000955050505050505b9392505050565b6000806103a9838560200151610427565b5160608501516103b99190610a85565b9050600084610100015185606001516103d29190610a85565b90508460c001511561040457808211156103f157600092505050610421565b6103fb8282610abe565b92505050610421565b8082101561041757600092505050610421565b6103fb8183610abe565b92915050565b60408051602081019091526000815260005b83518110156104a2578284828151811061045557610455610a6f565b6020026020010151600001510361049a57604051806020016040528085838151811061048357610483610a6f565b602002602001015160200151815250915050610421565b600101610439565b5060405162461bcd60e51b815260206004820152601460248201527311da5d995b881c185a5c881b9bdd08199bdd5b9960621b604482015260640160405180910390fd5b634e487b7160e01b600052604160045260246000fd5b604051608081016001600160401b038111828210171561051e5761051e6104e6565b60405290565b60405161014081016001600160401b038111828210171561051e5761051e6104e6565b604080519081016001600160401b038111828210171561051e5761051e6104e6565b604051606081016001600160401b038111828210171561051e5761051e6104e6565b604051601f8201601f191681016001600160401b03811182821017156105b3576105b36104e6565b604052919050565b600082601f8301126105cc57600080fd5b81356001600160401b038111156105e5576105e56104e6565b6105f8601f8201601f191660200161058b565b81815284602083860101111561060d57600080fd5b816020850160208301376000918101602001919091529392505050565b80356001600160a01b038116811461064157600080fd5b919050565b8035801515811461064157600080fd5b60006001600160401b0382111561066f5761066f6104e6565b5060051b60200190565b600082601f83011261068a57600080fd5b8135602061069f61069a83610656565b61058b565b82815260079290921b840181019181810190868411156106be57600080fd5b8286015b8481101561071857608081890312156106db5760008081fd5b6106e36104fc565b813581526106f285830161062a565b8186015260408281013590820152606080830135908201528352918301916080016106c2565b509695505050505050565b6000610140828403121561073657600080fd5b61073e610524565b905081356001600160401b038082111561075757600080fd5b610763858386016105bb565b83526020840135602084015261077b6040850161062a565b6040840152606084013560608401526080840135608084015260a08401359150808211156107a857600080fd5b6107b4858386016105bb565b60a08401526107c560c08501610646565b60c084015260e08401359150808211156107de57600080fd5b506107eb84828501610679565b60e08301525061010080830135818301525061012080830135818301525092915050565b600082601f83011261082057600080fd5b8135602061083061069a83610656565b82815260069290921b8401810191818101908684111561084f57600080fd5b8286015b84811015610718576040818903121561086c5760008081fd5b610874610547565b813581528482013585820152835291830191604001610853565b600080600060608085870312156108a457600080fd5b84356001600160401b03808211156108bb57600080fd5b6108c788838901610723565b95506020915081870135818111156108de57600080fd5b6108ea89828a0161080f565b9550506040808801358281111561090057600080fd5b88019150601f8201891361091357600080fd5b813561092161069a82610656565b81815260609091028301840190848101908b83111561093f57600080fd5b938501935b8285101561098e5786858d03121561095c5760008081fd5b610964610569565b8535815261097387870161062a565b81880152858501358582015282529386019390850190610944565b809750505050505050509250925092565b600080604083850312156109b257600080fd5b82356001600160401b03808211156109c957600080fd5b6109d586838701610723565b935060208501359150808211156109eb57600080fd5b506109f88582860161080f565b9150509250929050565b60008060408385031215610a1557600080fd5b82356001600160401b03811115610a2b57600080fd5b610a378582860161080f565b95602094909401359450505050565b634e487b7160e01b600052601160045260246000fd5b8082018082111561042157610421610a46565b634e487b7160e01b600052603260045260246000fd5b808202811582820484141761042157610421610a46565b600082610ab957634e487b7160e01b600052601260045260246000fd5b500490565b8181038181111561042157610421610a46565b6000825160005b81811015610af25760208186018101518583015201610ad8565b50600092019182525091905056fea26469706673582212206a344098da22bade1e7081500b05ade5eba75ca54115b93fb8fc00e682a40d5964736f6c63430008180033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}